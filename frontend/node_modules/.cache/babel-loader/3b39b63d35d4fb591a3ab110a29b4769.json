{"ast":null,"code":"var _this = this,\n  _jsxFileName = \"D:\\\\Documents Personnels\\\\Projets\\\\bzzWorld\\\\frontend\\\\src\\\\component\\\\Order\\\\MyOrders.js\";\nimport React, { Fragment, useEffect } from \"react\";\nimport \"./myOrders.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { clearErrors, myOrders } from \"../../actions/orderAction\";\nimport Loader from \"../layout/Loader/Loader\";\nimport { Link } from \"react-router-dom\";\nimport { useAlert } from \"react-alert\";\nimport Typography from \"@material-ui/core/Typography\";\nimport MetaData from \"../layout/MetatData\";\nimport LaunchIcon from \"@material-ui/icons/Launch\";\nimport { ReactTable } from 'react-table';\nvar MyOrders = function MyOrders() {\n  var dispatch = useDispatch();\n  var _useSelector = useSelector(function (state) {\n      return state.myOrders;\n    }),\n    loading = _useSelector.loading,\n    error = _useSelector.error,\n    orders = _useSelector.orders;\n  var _useSelector2 = useSelector(function (state) {\n      return state.user;\n    }),\n    user = _useSelector2.user;\n  var alert = useAlert();\n  var columns = [{\n    field: \"id\",\n    headerName: \"Order ID\",\n    minWidth: 300,\n    flex: 1\n  }, {\n    field: \"status\",\n    headerName: \"Status\",\n    minWidth: 150,\n    flex: 0.5,\n    cellClassName: function cellClassName(params) {\n      return params.getValue(params.id, \"status\") === \"Delivered\" ? \"greenColor\" : \"redColor\";\n    }\n  }, {\n    field: \"itemsQty\",\n    headerName: \"Items Qty\",\n    type: \"number\",\n    minWidth: 150,\n    flex: 0.3\n  }, {\n    field: \"amount\",\n    headerName: \"Amount\",\n    type: \"number\",\n    minWidth: 270,\n    flex: 0.5\n  }, {\n    field: \"actions\",\n    flex: 0.3,\n    headerName: \"Actions\",\n    minWidth: 150,\n    type: \"number\",\n    sortable: false,\n    renderCell: function renderCell(orderId) {\n      return /*#__PURE__*/React.createElement(Link, {\n        to: \"/order/\".concat(orderId),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(LaunchIcon, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }\n      }));\n    }\n  }];\n  var rows = [];\n  orders && orders.forEach(function (item, index) {\n    rows.push({\n      itemsQty: item.orderItems.length,\n      id: item._id,\n      status: item.orderStatus,\n      amount: item.totalPrice\n    });\n  });\n  useEffect(function () {\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n    dispatch(myOrders());\n  }, [dispatch, alert, error]);\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"myOrdersPage\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"myOrdersTable\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, columns.map(function (column) {\n    return /*#__PURE__*/React.createElement(\"th\", {\n      key: column.field,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, column.headerName);\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, rows.map(function (row) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: row.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 19\n      }\n    }, columns.map(function (column) {\n      var value = row[column.field];\n      if (column.field === 'actions') {\n        return /*#__PURE__*/React.createElement(\"td\", {\n          key: \"actions\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 34\n          }\n        }, column.renderCell(row.id));\n      }\n      var className = column.field === \"status\" ? row[column.field] === \"Delivered\" ? \"greenColor\" : row[column.field] === \"Processing\" ? \"yellowColor\" : \"redColor\" : \"\";\n      var style = {\n        color: className === \"yellowColor\" ? \"green\" : className === \"greenColor\" ? \"red\" : \"inherit\",\n        fontWeight: className === \"yellowColor\" ? \"bold\" : className === \"greenColor\" ? \"bold\" : \"normal\"\n      };\n      return /*#__PURE__*/React.createElement(\"td\", {\n        key: column.field,\n        className: className,\n        style: style,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 32\n        }\n      }, value);\n    }));\n  }))), /*#__PURE__*/React.createElement(Typography, {\n    id: \"myOrdersHeading\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }, user && user.name ? \"\".concat(user.name, \"'s Orders\") : 'Loading...')));\n};\nexport default MyOrders;","map":{"version":3,"names":["React","Fragment","useEffect","useSelector","useDispatch","clearErrors","myOrders","Loader","Link","useAlert","Typography","MetaData","LaunchIcon","ReactTable","MyOrders","dispatch","_useSelector","state","loading","error","orders","_useSelector2","user","alert","columns","field","headerName","minWidth","flex","cellClassName","params","getValue","id","type","sortable","renderCell","orderId","createElement","to","concat","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","rows","forEach","item","index","push","itemsQty","orderItems","length","_id","status","orderStatus","amount","totalPrice","className","map","column","key","row","value","style","color","fontWeight","name"],"sources":["D:/Documents Personnels/Projets/bzzWorld/frontend/src/component/Order/MyOrders.js"],"sourcesContent":["import React, { Fragment, useEffect } from \"react\";\nimport \"./myOrders.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { clearErrors, myOrders } from \"../../actions/orderAction\";\nimport Loader from \"../layout/Loader/Loader\";\nimport { Link } from \"react-router-dom\";\nimport { useAlert } from \"react-alert\";\nimport Typography from \"@material-ui/core/Typography\";\nimport MetaData from \"../layout/MetatData\";\nimport LaunchIcon from \"@material-ui/icons/Launch\";\nimport {ReactTable} from 'react-table';\n\n\nconst MyOrders = () => {\n\n  const dispatch = useDispatch();\n  \n  const { loading, error, orders } = useSelector((state) => state.myOrders);  \n  const { user } = useSelector((state) => state.user);\n  \n  const alert = useAlert();\n  \n  const columns = [\n    { field: \"id\", headerName: \"Order ID\", minWidth: 300, flex: 1 },\n\n    {\n      field: \"status\",\n      headerName: \"Status\",\n      minWidth: 150,\n      flex: 0.5,\n      cellClassName: (params) => {\n        return params.getValue(params.id, \"status\") === \"Delivered\"\n          ? \"greenColor\"\n          : \"redColor\";\n      },\n    },\n    {\n      field: \"itemsQty\",\n      headerName: \"Items Qty\",\n      type: \"number\",\n      minWidth: 150,\n      flex: 0.3,\n    },\n\n    {\n      field: \"amount\",\n      headerName: \"Amount\",\n      type: \"number\",\n      minWidth: 270,\n      flex: 0.5,\n    },\n\n    {\n      field: \"actions\",\n      flex: 0.3,\n      headerName: \"Actions\",\n      minWidth: 150,\n      type: \"number\",\n      sortable: false,\n      renderCell: (orderId) => {\n        return (\n          <Link to={`/order/${orderId}`}>\n            <LaunchIcon />    \n          </Link>    \n        );\n      },\n    },\n  ];\n  const rows = [];\n\n  orders &&\n    orders.forEach((item, index) => {\n      rows.push({\n        itemsQty: item.orderItems.length,\n        id: item._id,\n        status: item.orderStatus,\n        amount: item.totalPrice,\n      });\n    }); \n\n  useEffect(() => {\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    dispatch(myOrders());\n  }, [dispatch, alert, error]);\n  \n    return ( \n      <Fragment>\n      {loading ? (\n        <Loader />\n      ) : (\n        <div className=\"myOrdersPage\">\n        <table className=\"myOrdersTable\">\n            <thead>\n              <tr> \n                {\n                  columns.map(column => (\n                    <th key={column.field}>{column.headerName}</th>\n                  ))  \n                } \n              </tr>\n            </thead>   \n\n            <tbody>   \n            {\n              rows.map(row => {  \n                return (      \n                  <tr key={row.id}>       \n                    {\n                      columns.map(column => {      \n                        const value = row[column.field]; \n                            \n                        if (column.field === 'actions') {\n                          return <td key='actions'>{column.renderCell(row.id)}</td> \n                        }\n                        const className =\n                          column.field === \"status\"\n                            ? row[column.field] === \"Delivered\"\n                              ? \"greenColor\"\n                              : row[column.field] === \"Processing\"\n                              ? \"yellowColor\"\n                              : \"redColor\"\n                            : \"\";\n\n                            const style = {\n                              color: className === \"yellowColor\" ? \"green\" : className === \"greenColor\" ? \"red\" : \"inherit\",\n                              fontWeight: className === \"yellowColor\" ? \"bold\" : className === \"greenColor\" ? \"bold\" : \"normal\",\n                            };\n\n                        return <td key={column.field} className={className} style={style}>{value}</td>  \n                      })  \n                    }\n                  </tr>\n                )    \n              })  \n            }\n          </tbody>\n          </table>\n          <Typography id=\"myOrdersHeading\">{user && user.name ? `${user.name}'s Orders` : 'Loading...'}</Typography>\n        </div>\n      )}\n    </Fragment>\n     );\n  }\n   \n  export default MyOrders;"],"mappings":"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"},"metadata":{},"sourceType":"module"}