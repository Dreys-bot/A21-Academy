{"ast":null,"code":"import _toConsumableArray from \"D:\\\\Documents Personnels\\\\Projets\\\\bzzWorld\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"D:\\\\Documents Personnels\\\\Projets\\\\bzzWorld\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport { ADD_TO_CART, REMOVE_CART_ITEM, SAVE_SHIPPING_INFO } from \"../constants/cartConstants\";\nimport { LOGIN_SUCCESS, LOGOUT_SUCCESS } from \"../constants/userConstants\";\nexport var cartReducer = function cartReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    cartItems: JSON.parse(localStorage.getItem(\"cartItems\")),\n    shippingInfo: {}\n  };\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case ADD_TO_CART:\n      var item = action.payload;\n      var isItemExist = state.cartItems.find(function (i) {\n        return i.product === item.product;\n      });\n      if (isItemExist) {\n        return _objectSpread({}, state, {\n          cartItems: state.cartItems.map(function (i) {\n            return i.product === isItemExist.product ? item : i;\n          })\n        });\n      } else {\n        return _objectSpread({}, state, {\n          cartItems: [].concat(_toConsumableArray(state.cartItems), [item])\n        });\n      }\n    case REMOVE_CART_ITEM:\n      return _objectSpread({}, state, {\n        cartItems: state.cartItems.filter(function (i) {\n          return i.product !== action.payload;\n        })\n      });\n    case SAVE_SHIPPING_INFO:\n      return _objectSpread({}, state, {\n        shippingInfo: action.payload\n      });\n    case LOGIN_SUCCESS:\n      return {\n        cartItems: JSON.parse(localStorage.getItem(\"cartItems\"))\n      };\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["ADD_TO_CART","REMOVE_CART_ITEM","SAVE_SHIPPING_INFO","LOGIN_SUCCESS","LOGOUT_SUCCESS","cartReducer","state","arguments","length","undefined","cartItems","JSON","parse","localStorage","getItem","shippingInfo","action","type","item","payload","isItemExist","find","i","product","_objectSpread","map","concat","_toConsumableArray","filter"],"sources":["D:/Documents Personnels/Projets/bzzWorld/frontend/src/reducers/cartReducer.js"],"sourcesContent":["import {\n  ADD_TO_CART,\n  REMOVE_CART_ITEM,\n  SAVE_SHIPPING_INFO,\n} from \"../constants/cartConstants\";\nimport { LOGIN_SUCCESS, LOGOUT_SUCCESS } from \"../constants/userConstants\";\n\nexport const cartReducer = (\n  state = { cartItems: JSON.parse(localStorage.getItem(\"cartItems\")), shippingInfo: {} },\n  action\n) => {\n  switch (action.type) {\n    case ADD_TO_CART:\n      const item = action.payload;\n\n      const isItemExist = state.cartItems.find(\n        (i) => i.product === item.product\n      );\n\n      if (isItemExist) {\n        return {\n          ...state,\n          cartItems: state.cartItems.map((i) =>\n            i.product === isItemExist.product ? item : i\n          ),\n        };\n      } else {\n        return {\n          ...state,\n          cartItems: [...state.cartItems, item],\n        };\n      }\n\n    case REMOVE_CART_ITEM:\n      return {\n        ...state,\n        cartItems: state.cartItems.filter((i) => i.product !== action.payload),\n      };\n\n    case SAVE_SHIPPING_INFO:\n      return {\n        ...state,\n        shippingInfo: action.payload,\n      };\n    case LOGIN_SUCCESS:\n      return {\n        cartItems: JSON.parse(localStorage.getItem(\"cartItems\"))\n      }  \n    default:\n      return state;\n  }\n};\n"],"mappings":";;AAAA,SACEA,WAAW,EACXC,gBAAgB,EAChBC,kBAAkB,QACb,4BAA4B;AACnC,SAASC,aAAa,EAAEC,cAAc,QAAQ,4BAA4B;AAE1E,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAA,EAGnB;EAAA,IAFHC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG;IAAEG,SAAS,EAAEC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC;IAAEC,YAAY,EAAE,CAAC;EAAE,CAAC;EAAA,IACtFC,MAAM,GAAAT,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAEN,QAAQO,MAAM,CAACC,IAAI;IACjB,KAAKjB,WAAW;MACd,IAAMkB,IAAI,GAAGF,MAAM,CAACG,OAAO;MAE3B,IAAMC,WAAW,GAAGd,KAAK,CAACI,SAAS,CAACW,IAAI,CACtC,UAACC,CAAC;QAAA,OAAKA,CAAC,CAACC,OAAO,KAAKL,IAAI,CAACK,OAAO;MAAA,CACnC,CAAC;MAED,IAAIH,WAAW,EAAE;QACf,OAAAI,aAAA,KACKlB,KAAK;UACRI,SAAS,EAAEJ,KAAK,CAACI,SAAS,CAACe,GAAG,CAAC,UAACH,CAAC;YAAA,OAC/BA,CAAC,CAACC,OAAO,KAAKH,WAAW,CAACG,OAAO,GAAGL,IAAI,GAAGI,CAAC;UAAA,CAC9C;QAAC;MAEL,CAAC,MAAM;QACL,OAAAE,aAAA,KACKlB,KAAK;UACRI,SAAS,KAAAgB,MAAA,CAAAC,kBAAA,CAAMrB,KAAK,CAACI,SAAS,IAAEQ,IAAI;QAAC;MAEzC;IAEF,KAAKjB,gBAAgB;MACnB,OAAAuB,aAAA,KACKlB,KAAK;QACRI,SAAS,EAAEJ,KAAK,CAACI,SAAS,CAACkB,MAAM,CAAC,UAACN,CAAC;UAAA,OAAKA,CAAC,CAACC,OAAO,KAAKP,MAAM,CAACG,OAAO;QAAA;MAAC;IAG1E,KAAKjB,kBAAkB;MACrB,OAAAsB,aAAA,KACKlB,KAAK;QACRS,YAAY,EAAEC,MAAM,CAACG;MAAO;IAEhC,KAAKhB,aAAa;MAChB,OAAO;QACLO,SAAS,EAAEC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;MACzD,CAAC;IACH;MACE,OAAOR,KAAK;EAChB;AACF,CAAC"},"metadata":{},"sourceType":"module"}