{"ast":null,"code":"import _objectWithoutProperties from \"D:\\\\Documents Personnels\\\\Projets\\\\bzzWorld\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _this = this,\n  _jsxFileName = \"D:\\\\Documents Personnels\\\\Projets\\\\bzzWorld\\\\frontend\\\\src\\\\component\\\\Route\\\\ProtectedRoute.js\";\nimport React, { Fragment } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Route, Routes, Navigate, Router } from \"react-router-dom\";\nvar ProtectedRoute = function ProtectedRoute(_ref) {\n  var isAdmin = _ref.isAdmin,\n    Component = _ref.component,\n    rest = _objectWithoutProperties(_ref, [\"isAdmin\", \"component\"]);\n  var _useSelector = useSelector(function (state) {\n      return state.user;\n    }),\n    loading = _useSelector.loading,\n    isAuthenticated = _useSelector.isAuthenticated,\n    user = _useSelector.user;\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 5\n    }\n  }, loading === false && /*#__PURE__*/React.createElement(Routes, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n    render: function render(props) {\n      if (isAuthenticated === false) {\n        return /*#__PURE__*/React.createElement(Navigate, {\n          to: \"/login\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 18,\n            columnNumber: 20\n          }\n        });\n      }\n      if (isAdmin === true && user.role !== \"admin\") {\n        return /*#__PURE__*/React.createElement(Navigate, {\n          to: \"/login\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 20\n          }\n        });\n      }\n      return /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 18\n        }\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 9\n    }\n  }))));\n};\nexport default ProtectedRoute;","map":{"version":3,"names":["React","Fragment","useSelector","Route","Routes","Navigate","Router","ProtectedRoute","_ref","isAdmin","Component","component","rest","_objectWithoutProperties","_useSelector","state","user","loading","isAuthenticated","createElement","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","Object","assign","render","props","to","role"],"sources":["D:/Documents Personnels/Projets/bzzWorld/frontend/src/component/Route/ProtectedRoute.js"],"sourcesContent":["import React, { Fragment } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Route, Routes, Navigate, Router } from \"react-router-dom\";\r\n\r\n\r\nconst ProtectedRoute = ({isAdmin, component: Component, ...rest }) => {\r\n  const { loading, isAuthenticated, user } = useSelector((state) => state.user);\r\n\r\n  return (\r\n    \r\n    <Fragment>\r\n    {loading === false && (\r\n    <Routes>\r\n        <Route\r\n        {...rest}\r\n        render={(props) => {\r\n          if (isAuthenticated === false) {\r\n            return <Navigate to=\"/login\" />;\r\n          }\r\n\r\n          if (isAdmin === true && user.role !== \"admin\") {\r\n            return <Navigate to=\"/login\" />;\r\n          }\r\n\r\n          return <Component {...props} />;\r\n        }}\r\n      />\r\n    </Routes>\r\n      \r\n    )}\r\n  </Fragment>\r\n   \r\n    \r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,KAAK,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,kBAAkB;AAGlE,IAAMC,cAAc,GAAG,SAAjBA,cAAcA,CAAAC,IAAA,EAAkD;EAAA,IAA7CC,OAAO,GAAAD,IAAA,CAAPC,OAAO;IAAaC,SAAS,GAAAF,IAAA,CAApBG,SAAS;IAAgBC,IAAI,GAAAC,wBAAA,CAAAL,IAAA;EAAA,IAAAM,YAAA,GAClBZ,WAAW,CAAC,UAACa,KAAK;MAAA,OAAKA,KAAK,CAACC,IAAI;IAAA,EAAC;IAArEC,OAAO,GAAAH,YAAA,CAAPG,OAAO;IAAEC,eAAe,GAAAJ,YAAA,CAAfI,eAAe;IAAEF,IAAI,GAAAF,YAAA,CAAJE,IAAI;EAEtC,oBAEEhB,KAAA,CAAAmB,aAAA,CAAClB,QAAQ;IAAAmB,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACRT,OAAO,KAAK,KAAK,iBAClBjB,KAAA,CAAAmB,aAAA,CAACf,MAAM;IAAAgB,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACH1B,KAAA,CAAAmB,aAAA,CAAChB,KAAK,EAAAwB,MAAA,CAAAC,MAAA,KACFhB,IAAI;IACRiB,MAAM,EAAE,SAAAA,OAACC,KAAK,EAAK;MACjB,IAAIZ,eAAe,KAAK,KAAK,EAAE;QAC7B,oBAAOlB,KAAA,CAAAmB,aAAA,CAACd,QAAQ;UAAC0B,EAAE,EAAC,QAAQ;UAAAX,MAAA,EAAAC,KAAA;UAAAC,QAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAA,CAAE,CAAC;MACjC;MAEA,IAAIjB,OAAO,KAAK,IAAI,IAAIO,IAAI,CAACgB,IAAI,KAAK,OAAO,EAAE;QAC7C,oBAAOhC,KAAA,CAAAmB,aAAA,CAACd,QAAQ;UAAC0B,EAAE,EAAC,QAAQ;UAAAX,MAAA,EAAAC,KAAA;UAAAC,QAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAA,CAAE,CAAC;MACjC;MAEA,oBAAO1B,KAAA,CAAAmB,aAAA,CAACT,SAAS,EAAAiB,MAAA,CAAAC,MAAA,KAAKE,KAAK;QAAAV,MAAA,EAAAC,KAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,EAAG,CAAC;IACjC,CAAE;IAAAN,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EACH,CACK,CAGA,CAAC;AAIb,CAAC;AAED,eAAenB,cAAc"},"metadata":{},"sourceType":"module"}